<?php
add_action('register_form','photon_register_form');
function photon_register_form() {
	$first_name = ( isset( $_POST['first_name'] ) ) ? $_POST['first_name'] : '';
?>
<p>
	<label for="first_name"><?php _e('First Name','localhost') ?><br />
	<input type="text" name="first_name" id="first_name" class="input" value="<?php echo esc_attr(stripslashes($first_name)); ?>" size="25" /></label>
</p>
<?php
}

add_filter('registration_errors', 'photon_registration_errors', 10, 3);
function photon_registration_errors ($errors, $sanitized_user_login, $user_email) {
	if ( empty ($_POST['first_name'] ))
		$errors->add( 'first_name_error', __('<strong>ERROR</strong>: You must include a first name.','localhost') );

	return $errors;
}

add_action('user_register', 'photon_user_register');
function photon_user_register ($user_id) {
		if ( isset ($_POST['first_name') )
			update_user_meta($user_id, 'first_name', $_POST['first_name']);
}
?>
